
name: 12 - Working with Outputs.

on:
  # push:
  #   branches: [ "main" ]
  # pull_request:
  #   branches: [ "main" ]
  workflow_dispatch:
    inputs:
      build-status:
        description: "Status of the build"
        type: choice
        options:
          - success
          - failure
        default: success

jobs:
  build:

    runs-on: ubuntu-latest

    steps:

    - name: Print GITHUB_OUTPUT path
      run: echo "${{ GITHUB_OUTPUT }}"

    - name: Build
      id: build
      run: |
        echo "status= ${{ inputs.build-status }}" >> $GITHUB_OUTPUT

  deploy: 
  
    runs-on: ubuntu-latest
    needs:
      - build
    if: ${{ inputs.build-status == 'success' }}
    steps:
      - name: Deploy
        run: echo "Deploying"
